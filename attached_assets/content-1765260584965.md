[기본 콘텐츠로 건너뛰기](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-output-explained?hl=ko#main-content)

[![Google Cloud Documentation](https://www.gstatic.com/devrel-devsite/prod/vf25d28f8fa3eb402b276b2981491ec30329502b5e6089118cc6ebe4dff7f7eb7/clouddocs/images/lockup.svg)](https://docs.cloud.google.com/)

`/`

[콘솔](https://console.cloud.google.com/?hl=ko)

- English
- Deutsch
- Español
- Español – América Latina
- Français
- Indonesia
- Italiano
- Português
- Português – Brasil
- 中文 – 简体
- 中文 – 繁體
- 日本語
- 한국어

로그인

[![](https://docs.cloud.google.com/_static/clouddocs/images/icons/products/vertex-ai-color.svg?hl=ko)](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/learn/overview?hl=ko)

- [Vertex AI](https://docs.cloud.google.com/vertex-ai/docs?hl=ko)
- [Generative AI on Vertex AI](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/learn/overview?hl=ko)

[무료로 시작하기](https://console.cloud.google.com/freetrial?hl=ko)

- [Home](https://docs.cloud.google.com/?hl=ko)
- [Documentation](https://docs.cloud.google.com/docs?hl=ko)
- [AI and ML](https://docs.cloud.google.com/docs/ai-ml?hl=ko)
- [Vertex AI](https://docs.cloud.google.com/vertex-ai/docs?hl=ko)
- [Generative AI on Vertex AI](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/learn/overview?hl=ko)
- [API 참조 문서](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/reference/rest?hl=ko)



 의견 보내기



# Vertex AI RAG 엔진의 검색 및 생성 출력    컬렉션을 사용해 정리하기      내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 페이지에서는 Vertex AI RAG Engine 출력의 각 필드에 대해 설명합니다.

## `retrieveContexts`

이 섹션에서는 `retrieveContexts` API에 정의된 각 필드에 대해 설명하고 샘플 코드에서 이러한 필드를 사용합니다.

### 필드

| **필드 이름** | **설명** |
| --- | --- |
| `source_uri` | RAG로 가져오기 전의 원본 소스 파일입니다. Cloud Storage 또는 Google Drive에서 파일을 가져온 경우 `source_uri`는 Cloud Storage 또는 Drive의 원본 파일 URI입니다. 파일이 업로드된 경우 `source_uri`는 파일의 표시 이름입니다. |
| `source_display_name` | 파일의 표시 이름입니다. |
| `text` | 쿼리와 관련된 텍스트 청크입니다. |
| `score` | 쿼리와 텍스트 청크 사이의 유사성 또는 거리입니다.<br>유사성 또는 거리는 선택한 `vectorDB`에 따라 달라집니다. `ragManagedDB`의 경우 점수는 `COSINE_DISTANCE`입니다. |

### 샘플 출력

이 코드 샘플은 필드를 사용하여 샘플 출력을 생성하는 방법을 보여줍니다.

```
contexts {
    source_uri: "gs://sample_folder/hello_world.txt"
    source_display_name: "hello_world.txt"
    text: "Hello World!"
    score: 0.60545359030757784
  }
```

## `generateContent`

`generateContent` API에 정의된 대부분의 필드는 [응답 본문](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference?hl=ko#response) 에서 찾을 수 있습니다.

### 필드

이 섹션에서는 `generateContent` API의 `grounding_metadata` 부분에 정의된 각 필드에 대해 설명하고 샘플 코드에서 이러한 필드를 사용합니다.

| **필드 이름** | **설명** |
| --- | --- |
| `text` | Gemini가 생성한 응답입니다. |
| `grounding_chunks` | Vertex AI RAG Engine이 반환한 청크입니다. |
| `retrieved_context` | 생성된 콘텐츠를 그라운딩하는 데 사용되는 0개 이상의 청크가 포함될 수 있는 반복되는 필드입니다. |
| - `uri` | - `source_uri`는 데이터가 원래 저장된 위치를 지정합니다. |
| - `title` | - `source_display_name`는 원본 파일의 이름 또는 표시 이름입니다. |
| - `text` | - 텍스트 청크는 Gemini 응답을 그라운딩하는 데 사용됩니다. |
| `grounding_supports` | 생성된 콘텐츠와 그라운딩 청크 사이의 관계입니다. 반복되는 필드입니다. 각 `grounding_supports` 필드는 생성된 컨텍스트의 텍스트 세그먼트와 RAG로 검색된 하나 이상의 텍스트 청크 사이의 관계를 보여줍니다. |
| `segment` | 생성된 텍스트의 그라운딩된 텍스트 세그먼트입니다. |
| - `start_index` | - 그라운딩된 텍스트의 첫 번째 색인입니다. `start_index`가 누락된 경우 `start_index`가 `0`입니다. |
| - `end_index` | - 그라운딩된 텍스트의 마지막 색인입니다. |
| - `text` | - 그라운딩된 텍스트입니다. |
| `grounding_chunk_indices` | 텍스트 세그먼트를 그라운딩하는 데 사용된 청크입니다. 텍스트를 그라운딩하는 데 사용되는 청크는 두 개 이상 있을 수 있습니다. 색인은 `grounding_chunks` 필드에서 첫 번째 청크를 나타내는 `0`부터 시작합니다. 전체 청크에서 그라운딩이 수행됩니다. 응답을 그라운딩하는 청크 부분은 지정되지 않습니다. |
| `confidence_scores` | 주어진 청크에서 텍스트를 그라운딩하는 데 사용되는 점수입니다. 가능한 가장 높은 점수는 `1`이고 점수가 높을수록 신뢰도 수준이 높습니다. 각 점수는 각 `grounding_chunk_indices`와 일치합니다. 신뢰도 점수가 적어도 `0.6` 이상인 청크만 출력에 포함됩니다. |

### 샘플 출력

이 코드 샘플은 필드를 사용하여 샘플 출력을 생성하는 방법을 보여줍니다.

```
candidates {
  content {
    role: "model"
    parts {
      text: "The rectangle is red and the background is white. The rectangle appears to be on some type of document editing software. \n"
    }
  }
  grounding_metadata {
    grounding_chunks {
      retrieved_context {
        uri: "a.txt"
        title: "a.txt"
        text: "Okay ,  I  see  a  red  rectangle  on  a  white  background .  It looks like it\'s on some sort of document editing software. It has those small squares and circles around it, indicating that it\'s a selected object ."
      }
    }
    grounding_chunks {
      retrieved_context {
        uri: "b.txt"
        title: "b.txt"
        text: "The  video  is  identical  to  the  last  time  I  described  it .  It shows a blue rectangle on a white background."
      }
    }
    grounding_chunks {
      retrieved_context {
        uri: "c.txt"
        title: "c.txt"
        text: "Okay ,  I  remember  the  rectangle  was  blue  in  the  past  session . Now it is red.\n The  red  rectangle  is  still  there .  It \' s  still  in  the same position on the white background, with the same handles around it. Nothing new is visible since last time.\n You \' re  welcome .  The  red  rectangle  is  still  the  only  thing visible."
      }
    }
    grounding_supports {
      segment {
        end_index: 49
        text: "The rectangle is red and the background is white."
      }
      grounding_chunk_indices: 2
      grounding_chunk_indices: 0
      confidence_scores: 0.958192229
      confidence_scores: 0.992316723
    }
    grounding_supports {
      segment {
        start_index: 50
        end_index: 120
        text: "The rectangle appears to be on some type of document editing software."
      }
      grounding_chunk_indices: 0
      confidence_scores: 0.98374176
    }
  }
}
```

## 다음 단계

- API 참조에서 RAG 컨텍스트에 대해 자세히 알아보려면 [컨텍스트](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/reference/rest/v1/projects.locations/retrieveContexts?hl=ko) 를 참조하세요.
- RAG에 대해 자세히 알아보려면 [Vertex AI RAG 엔진 개요](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/rag-overview?hl=ko) 를 참조하세요.



 의견 보내기



달리 명시되지 않는 한 이 페이지의 콘텐츠에는 [Creative Commons Attribution 4.0 라이선스](https://creativecommons.org/licenses/by/4.0/) 에 따라 라이선스가 부여되며, 코드 샘플에는 [Apache 2.0 라이선스](https://www.apache.org/licenses/LICENSE-2.0) 에 따라 라이선스가 부여됩니다. 자세한 내용은 [Google Developers 사이트 정책](https://developers.google.com/site-policies?hl=ko) 을 참조하세요. 자바는 Oracle 및/또는 Oracle 계열사의 등록 상표입니다.

최종 업데이트: 2025-12-09(UTC)


의견을 전달하고 싶나요?






\[\[\["이해하기 쉬움","easyToUnderstand","thumb-up"\],\["문제가 해결됨","solvedMyProblem","thumb-up"\],\["기타","otherUp","thumb-up"\]\],\[\["이해하기 어려움","hardToUnderstand","thumb-down"\],\["잘못된 정보 또는 샘플 코드","incorrectInformationOrSampleCode","thumb-down"\],\["필요한 정보/샘플이 없음","missingTheInformationSamplesINeed","thumb-down"\],\["번역 문제","translationIssue","thumb-down"\],\["기타","otherDown","thumb-down"\]\],\["최종 업데이트: 2025-12-09(UTC)"\],\[\],\[\]\]