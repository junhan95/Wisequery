[기본 콘텐츠로 건너뛰기](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#main-content)

[![Google Cloud Documentation](https://www.gstatic.com/devrel-devsite/prod/vf25d28f8fa3eb402b276b2981491ec30329502b5e6089118cc6ebe4dff7f7eb7/clouddocs/images/lockup.svg)](https://docs.cloud.google.com/)

`/`

[콘솔](https://console.cloud.google.com/?hl=ko)Language

- [English](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1)
- [Deutsch](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=de)
- [Español](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=es)
- [Español – América Latina](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=es-419)
- [Français](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=fr)
- [Indonesia](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=id)
- [Italiano](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=it)
- [Português](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=pt)
- [Português – Brasil](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=pt-br)
- [中文 – 简体](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=zh-cn)
- [中文 – 繁體](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=zh-tw)
- [日本語](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ja)
- [한국어](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko)

[로그인](https://docs.cloud.google.com/_d/signin?continue=https%3A%2F%2Fdocs.cloud.google.com%2Fvertex-ai%2Fgenerative-ai%2Fdocs%2Fmodel-reference%2Frag-api-v1%3Fhl%3Dko&prompt=select_account)

[![](https://docs.cloud.google.com/_static/clouddocs/images/icons/products/vertex-ai-color.svg?hl=ko)](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/learn/overview?hl=ko)

- [Vertex AI](https://docs.cloud.google.com/vertex-ai/docs?hl=ko)
- [Generative AI on Vertex AI](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/learn/overview?hl=ko)

[무료로 시작하기](https://console.cloud.google.com/freetrial?hl=ko)

- 이 페이지의 내용
- [파라미터 목록](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#parameters-list)
  - [코퍼스 관리 파라미터](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#corpus-management-params-api)
  - [파일 관리 파라미터](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#file-management-params-api)
  - [검색 및 예측 파라미터](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#retrieval-and-prediction-params-api)
  - [프로젝트 관리 파라미터](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#project-management-params-api)
- [코퍼스 관리 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#corpus-management-examples-api)
  - [RAG 코퍼스 만들기 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#create-a-rag-corpus-example-api)
  - [RAG 코퍼스 업데이트 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#update-a-rag-corpus-example-api)
  - [RAG 코퍼스 나열 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#list-rag-corpora-example-api)
  - [RAG 코퍼스 가져오기 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#get-a-rag-corpus-example-api)
  - [RAG 코퍼스 삭제 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#delete-a-rag-corpus-example-api)
- [파일 관리 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#file-management-examples-api)
  - [RAG 파일 업로드 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#upload-a-rag-file-example-api)
  - [RAG 파일 가져오기 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#import-rag-files-example-api)
  - [RAG 파일 나열 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#list-rag-files-example-api)
  - [RAG 파일 가져오기 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#get-a-rag-file-example-api)
  - [RAG 파일 삭제 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#delete-a-rag-file-example-api)
  - [검색 쿼리 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#retrieval-query-api)
  - [생성 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#prediction-api)
- [프로젝트 관리 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#project-management-examples-api)
  - [프로젝트 구성 가져오기](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#get_project_configuration)
  - [프로젝트 구성 업데이트](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#update_project_configuration)
- [다음 단계](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#whats-next)

- [Home](https://docs.cloud.google.com/?hl=ko)
- [Documentation](https://docs.cloud.google.com/docs?hl=ko)
- [AI and ML](https://docs.cloud.google.com/docs/ai-ml?hl=ko)
- [Vertex AI](https://docs.cloud.google.com/vertex-ai/docs?hl=ko)
- [Generative AI on Vertex AI](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/learn/overview?hl=ko)
- [API 참조 문서](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/reference/rest?hl=ko)

도움이 되었나요?



 의견 보내기



# RAG 엔진 APIbookmark\_borderbookmark    컬렉션을 사용해 정리하기      내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

- 이 페이지의 내용
- [파라미터 목록](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#parameters-list)
  - [코퍼스 관리 파라미터](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#corpus-management-params-api)
  - [파일 관리 파라미터](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#file-management-params-api)
  - [검색 및 예측 파라미터](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#retrieval-and-prediction-params-api)
  - [프로젝트 관리 파라미터](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#project-management-params-api)
- [코퍼스 관리 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#corpus-management-examples-api)
  - [RAG 코퍼스 만들기 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#create-a-rag-corpus-example-api)
  - [RAG 코퍼스 업데이트 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#update-a-rag-corpus-example-api)
  - [RAG 코퍼스 나열 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#list-rag-corpora-example-api)
  - [RAG 코퍼스 가져오기 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#get-a-rag-corpus-example-api)
  - [RAG 코퍼스 삭제 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#delete-a-rag-corpus-example-api)
- [파일 관리 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#file-management-examples-api)
  - [RAG 파일 업로드 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#upload-a-rag-file-example-api)
  - [RAG 파일 가져오기 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#import-rag-files-example-api)
  - [RAG 파일 나열 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#list-rag-files-example-api)
  - [RAG 파일 가져오기 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#get-a-rag-file-example-api)
  - [RAG 파일 삭제 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#delete-a-rag-file-example-api)
  - [검색 쿼리 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#retrieval-query-api)
  - [생성 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#prediction-api)
- [프로젝트 관리 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#project-management-examples-api)
  - [프로젝트 구성 가져오기](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#get_project_configuration)
  - [프로젝트 구성 업데이트](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#update_project_configuration)
- [다음 단계](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#whats-next)

Vertex AI RAG Engine은 검색 증강 생성(RAG)을 용이하게 하는 Vertex AI 플랫폼의 구성요소입니다. RAG Engine을 사용하면 대규모 언어 모델(LLM)이 문서 및 데이터베이스와 같은 외부 지식 소스의 데이터에 액세스하고 이를 통합할 수 있습니다. RAG를 사용하면 LLM이 더 정확하고 유익한 LLM 응답을 생성할 수 있습니다.

## 파라미터 목록

이 섹션에는 다음이 나열되어 있습니다.

| 매개변수 | 예시 |
| --- | --- |
| [코퍼스 관리 매개변수](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#corpus-management-params-api) 를 참조하세요. | [코퍼스 관리 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#corpus-management-examples-api) 를 참조하세요. |
| [파일 관리 매개변수](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#file-management-params-api) 를 참조하세요. | [파일 관리 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#file-management-examples-api) 를 참조하세요. |
| [프로젝트 관리 파라미터](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#project-management-params-api) 를 참조하세요. | [프로젝트 관리 예시](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#project-management-examples-api) 를 참조하세요. |

### 코퍼스 관리 파라미터

RAG 코퍼스에 관한 자세한 내용은 [코퍼스 관리](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/manage-your-rag-corpus?hl=ko#corpus-management) 를 참조하세요.

#### RAG 코퍼스 만들기

이 표에는 RAG 코퍼스를 만드는 데 사용되는 파라미터가 나열되어 있습니다.

##### 본문 요청

| 매개변수 |
| --- |
| `display_name` | 필수: `string`<br>RAG 코퍼스의 표시 이름입니다. |
| `description` | 선택사항: `string`<br>RAG 코퍼스에 대한 설명입니다. |
| `encryption_spec` | (선택사항) 변경 불가: `string`<br>CMEK 키 이름은 RAG 코퍼스와 관련된 저장 데이터를 암호화하는 데 사용됩니다. 키 이름은 벡터 데이터베이스의 `RagManaged` 옵션에만 적용됩니다. 코퍼스가 생성되면 이 필드를 설정할 수 있으며 업데이트하거나 삭제할 수 없습니다.<br>형식: `projects/{project}/locations/{location}/keyRings/{key_ring}/cryptoKeys/{key_name}` |
| `vector_db_config` | (선택사항) 변경 불가: `vectorDbConfig`<br>벡터 DB의 구성입니다. |
| `vertex_ai_search_config.serving_config` | (선택사항) `string`<br>Vertex AI Search의 구성입니다.<br>형식: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}/servingConfigs/{serving_config}`<br>또는<br>`projects/{project}/locations/{location}/collections/{collection}/dataStores/{data_store}/servingConfigs/{serving_config}` |

##### `vectorDbConfig`

| 매개변수 |
| --- |
| `rag_managed_db` | `oneof``vector_db`: `vectorDbConfig.RagManagedDb`<br>벡터 데이터베이스를 지정하지 않으면 `rag_managed_db`가 기본 벡터 데이터베이스입니다. |
| `pinecone` | `oneof``vector_db`: `vectorDbConfig.Pinecone`<br>Pinecone 인스턴스를 지정합니다. |
| `pinecone.index_name` | `string`<br>RAG 코퍼스와 함께 사용되는 Pinecone 색인을 만드는 데 사용되는 이름입니다.<br>이 값은 설정된 후에는 변경할 수 없습니다. `CreateRagCorpus` API 호출에서는 비워 두고 후속 `UpdateRagCorpus` API 호출에서 비어 있지 않은 값으로 설정할 수 있습니다. |
| `vertex_vector_search` | `oneof``vector_db`: `vectorDbConfig.VertexVectorSearch`<br>Vertex 벡터 검색 인스턴스를 지정합니다. |
| `vertex_vector_search.index` | `string`<br>RAG 코퍼스와 함께 사용되는 벡터 검색 색인의 리소스 이름입니다.<br>형식: `projects/{project}/locations/{location}/indexEndpoints/{index_endpoint}`<br>이 값은 설정된 후에는 변경할 수 없습니다. `CreateRagCorpus` API 호출에서는 비워 두고 후속 `UpdateRagCorpus` API 호출에서 비어 있지 않은 값으로 설정할 수 있습니다. |
| `vertex_vector_search.index_endpoint` | `string`<br>RAG 코퍼스와 함께 사용되는 벡터 검색 색인 엔드포인트의 리소스 이름입니다.<br>형식: `projects/{project}/locations/{location}/indexes/{index}`<br>이 값은 설정된 후에는 변경할 수 없습니다. `CreateRagCorpus` API 호출에서는 비워 두고 후속 `UpdateRagCorpus` API 호출에서 비어 있지 않은 값으로 설정할 수 있습니다. |
| `api_auth.api_key_config.api_key_secret_version` | `string`<br>Secret Manager에 저장된 보안 비밀의 전체 리소스 이름으로, Pinecone API 키가 포함되어 있습니다.<br>형식: `projects/{PROJECT_NUMBER}/secrets/{SECRET_ID}/versions/{VERSION_ID}`<br>`CreateRagCorpus` API 호출에서 비워 두고 후속 `UpdateRagCorpus` API 호출에서 비어 있지 않은 값으로 설정할 수 있습니다. |
| `rag_embedding_model_config.vertex_prediction_endpoint.endpoint` | (선택사항) 변경 불가: `string`<br>RAG 코퍼스에 사용할 임베딩 모델입니다. 이 값은 설정된 후에는 변경할 수 없습니다. 이 필드를 비워두면 [text-embedding-005](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/text-embeddings-api?hl=ko) 가 임베딩 모델로 사용됩니다. |

#### RAG 코퍼스 업데이트

이 표에는 RAG 코퍼스를 업데이트 데 사용되는 파라미터가 나열되어 있습니다.

##### 본문 요청

| 매개변수 |
| --- |
| `display_name` | 선택사항: `string`<br>RAG 코퍼스의 표시 이름입니다. |
| `description` | 선택사항: `string`<br>RAG 코퍼스에 대한 설명입니다. |
| `rag_vector_db.pinecone.index_name` | `string`<br>RAG 코퍼스와 함께 사용되는 Pinecone 색인을 만드는 데 사용되는 이름입니다.<br>`Pinecone` 구성으로 `RagCorpus`를 만들었고 이 필드가 이전에 설정된 적이 없는 경우 Pinecone 인스턴스의 색인 이름을 업데이트할 수 있습니다. |
| `rag_vector_db.vertex_vector_search.index` | `string`<br>RAG 코퍼스와 함께 사용되는 벡터 검색 색인의 리소스 이름입니다.<br>형식: `projects/{project}/locations/{location}/indexEndpoints/{index_endpoint}`<br>`RagCorpus`가 `Vector Search` 구성으로 생성되었고 이 필드가 이전에 설정된 적이 없는 경우 업데이트할 수 있습니다. |
| `rag_vector_db.vertex_vector_search.index_endpoint` | `string`<br>RAG 코퍼스와 함께 사용되는 벡터 검색 색인 엔드포인트의 리소스 이름입니다.<br>형식: `projects/{project}/locations/{location}/indexes/{index}`<br>`RagCorpus`가 `Vector Search` 구성으로 생성되었고 이 필드가 이전에 설정된 적이 없는 경우 업데이트할 수 있습니다. |
| `rag_vector_db.api_auth.api_key_config.api_key_secret_version` | `string`<br>Secret Manager에 저장된 보안 비밀의 전체 리소스 이름으로, Pinecone API 키가 포함되어 있습니다.<br>형식: `projects/{PROJECT_NUMBER}/secrets/{SECRET_ID}/versions/{VERSION_ID}` |

#### RAG 코퍼스 목록

이 표에는 RAG 코퍼스를 나열하는 데 사용되는 파라미터가 나와 있습니다.

| 매개변수 |
| --- |
| `page_size` | 선택사항: `int`<br>표준 목록 페이지 크기입니다. |
| `page_token` | 선택사항: `string`<br>표준 목록 페이지 토큰입니다. 일반적으로 이전 `[VertexRagDataService.ListRagCorpora][]` 호출의 `[ListRagCorporaResponse.next_page_token][]`에서 가져옵니다. |

#### RAG 코퍼스 가져오기

이 표에는 RAG 코퍼스를 가져오는 데 사용되는 파라미터가 나와 있습니다.

| 매개변수 |
| --- |
| `name` | `string`<br>`RagCorpus` 리소스 이름입니다. 형식: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus_id}` |

#### RAG 코퍼스 삭제

이 표에는 RAG 코퍼스를 삭제하는 데 사용되는 파라미터가 나와 있습니다.

| 매개변수 |
| --- |
| `name` | `string`<br>`RagCorpus` 리소스 이름입니다. 형식: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus_id}` |

### 파일 관리 파라미터

RAG 파일에 관한 자세한 내용은 [파일 관리](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/manage-your-rag-corpus?hl=ko#file-management) 를 참조하세요.

#### RAG 파일 업로드

이 표에는 RAG 파일을 업로드하는 데 사용되는 파라미터가 나와 있습니다.

##### 본문 요청

| 매개변수 |
| --- |
| `parent` | `string`<br>`RagCorpus` 리소스 이름입니다. 형식: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus_id}` |
| `rag_file` | 필수: `RagFile`<br>업로드할 파일입니다. |
| `upload_rag_file_config` | 필수: `UploadRagFileConfig`<br>`RagCorpus`에 업로드할 `RagFile`의 구성입니다. |

| `RagFile` |
| --- |
| `display_name` | 필수: `string`<br>RAG 파일의 표시 이름입니다. |
| `description` | 선택사항: `string`<br>RAG 파일에 대한 설명입니다. |

| `UploadRagFileConfig` |
| --- |
| `rag_file_transformation_config.rag_file_chunking_config.fixed_length_chunking.chunk_size` | `int32`<br>각 청크가 보유한 토큰 수입니다. |
| `rag_file_transformation_config.rag_file_chunking_config.fixed_length_chunking.chunk_overlap` | `int32`<br>청크 간의 중복입니다. |

#### RAG 파일 가져오기

이 표에는 RAG 파일을 가져오는 데 사용되는 파라미터가 나와 있습니다.

| 매개변수 |
| --- |
| `parent` | 필수: `string`<br>`RagCorpus` 리소스 이름입니다.<br>형식: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus_id}` |
| `gcs_source` | `oneof``import_source`: `GcsSource`<br>Cloud Storage 위치<br>개별 파일뿐만 아니라 전체 Cloud Storage 디렉터리 가져오기를 지원합니다. |
| `gcs_source.uris` | `list`/`string`<br>업로드 파일이 포함된 Cloud Storage URI입니다. |
| `google_drive_source` | `oneof``import_source`: `GoogleDriveSource`<br>Google Drive 위치<br>개별 파일뿐만 아니라 Google Drive 폴더 가져오기를 지원합니다. |
| `slack_source` | `oneof``import_source`: `SlackSource`<br>파일이 업로드된 Slack 채널입니다. |
| `jira_source` | `oneof``import_source`: `JiraSource`<br>파일이 업로드된 Jira 쿼리입니다. |
| `share_point_sources` | `oneof``import_source`: `SharePointSources`<br>파일이 업로드된 SharePoint 소스입니다. |
| `rag_file_transformation_config.rag_file_chunking_config.fixed_length_chunking.chunk_size` | `int32`<br>각 청크가 보유한 토큰 수입니다. |
| `rag_file_transformation_config.rag_file_chunking_config.fixed_length_chunking.chunk_overlap` | `int32`<br>청크 간의 중복입니다. |
| `rag_file_parsing_config` | (선택사항) `RagFileParsingConfig`<br>`RagFiles`의 파싱 구성을 지정합니다. <br>이 필드를 설정하지 않으면 RAG가 기본 파서를 사용합니다. |
| `max_embedding_requests_per_min` | (선택사항) `int32`<br>이 작업이 코퍼스에 지정된 임베딩 모델에 허용되는 분당 최대 쿼리 수입니다. 이 값은 이 작업에만 해당하며 다른 가져오기 작업과 공유되지 않습니다. 프로젝트의 할당량 페이지에서 적절한 값을 설정합니다.<br>지정하지 않으면 기본값인 1,000 QPM이 사용됩니다. |

| `GoogleDriveSource` |
| --- |
| `resource_ids.resource_id` | 필수: `string`<br>Google Drive 리소스의 ID입니다. |
| `resource_ids.resource_type` | 필수: `string`<br>Google Drive 리소스 유형입니다. |

| `SlackSource` |
| --- |
| `channels.channels` | 반복: `SlackSource.SlackChannels.SlackChannel`<br>가져올 ID 및 기간을 포함한 Slack 채널 정보입니다. |
| `channels.channels.channel_id` | 필수: `string`<br>Slack 채널 ID입니다. |
| `channels.channels.start_time` | 선택사항: `google.protobuf.Timestamp`<br>가져올 메시지의 시작 타임스탬프입니다. |
| `channels.channels.end_time` | 선택사항: `google.protobuf.Timestamp`<br>가져올 메시지의 종료 타임스탬프입니다. |
| `channels.api_key_config.api_key_secret_version` | 필수: `string`<br>Secret Manager에 저장된 보안 비밀의 전체 리소스 이름으로, Slack 채널 ID에 액세스할 수 있는 Slack 채널 액세스 토큰이 포함되어 있습니다.<br> <br>참고: https://api.slack.com/tutorials/tracks/getting-a-token<br>형식: `projects/{PROJECT_NUMBER}/secrets/{SECRET_ID}/versions/{VERSION_ID}` |

| `JiraSource` |
| --- |
| `jira_queries.projects` | 반복: `string`<br>전체를 가져올 Jira 프로젝트 목록입니다. |
| `jira_queries.custom_queries` | 반복: `string`<br>가져올 커스텀 Jira 쿼리 목록입니다. JQL(Jira 쿼리 언어)에 대한 자세한 내용은 <br>[Jira 지원](https://support.atlassian.com/jira-service-management-cloud/docs/use-advanced-search-with-jira-query-language-jql/) 을 참고하세요. |
| `jira_queries.email` | 필수: `string`<br>Jira 이메일 주소입니다. |
| `jira_queries.server_uri` | 필수: `string`<br>Jira 서버 URI입니다. |
| `jira_queries.api_key_config.api_key_secret_version` | 필수: `string`<br>Secret Manager에 저장된 보안 비밀의 전체 리소스 이름으로, Slack 채널 ID에 액세스할 수 있는 Jira API 키가 포함되어 있습니다.<br> <br>참고: https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account/<br>형식: `projects/{PROJECT_NUMBER}/secrets/{SECRET_ID}/versions/{VERSION_ID}` |

| `SharePointSources` |
| --- |
| `share_point_sources.sharepoint_folder_path` | `folder_source`의 `oneof`: `string`<br>다운로드할 SharePoint 폴더의 경로입니다. |
| `share_point_sources.sharepoint_folder_id` | `folder_source`의 `oneof`: `string`<br>다운로드할 SharePoint 폴더의 ID입니다. |
| `share_point_sources.drive_name` | `drive_source`의 `oneof`: `string`<br>다운로드할 드라이브의 이름입니다. |
| `share_point_sources.drive_id` | `drive_source`의 `oneof`: `string`<br>다운로드할 드라이브의 ID입니다. |
| `share_point_sources.client_id` | `string`<br>Microsoft Azure 포털에 등록된 앱의 애플리케이션 ID입니다.<br> <br>애플리케이션은 MS Graph 권한 'Files.ReadAll', 'Sites.ReadAll', 'BrowserSiteLists.Read.All'로도 구성되어야 합니다. |
| `share_point_sources.client_secret.api_key_secret_version` | 필수: `string`<br>Secret Manager에 저장된 보안 비밀의 전체 리소스 이름입니다. 여기에는 Azure에 등록된 앱의 애플리케이션 보안 비밀이 포함됩니다.<br>형식: `projects/{PROJECT_NUMBER}/secrets/{SECRET_ID}/versions/{VERSION_ID}` |
| `share_point_sources.tenant_id` | `string`<br>Azure Active Directory 인스턴스의 고유 식별자입니다. |
| `share_point_sources.sharepoint_site_name` | `string`<br>다운로드할 SharePoint 사이트의 이름입니다. 사이트 이름 또는 사이트 ID일 수 있습니다. |

| `RagFileParsingConfig` |
| --- |
| `layout_parser` | `oneof``parser`: `RagFileParsingConfig.LayoutParser`<br>`RagFile`에 사용할 레이아웃 파서입니다. |
| `layout_parser.processor_name` | `string`<br>Document AI 프로세서 또는 프로세서 버전의 전체 리소스 이름입니다.<br>형식:<br> <br>`projects/{project_id}/locations/{location}/processors/{processor_id}`<br>`projects/{project_id}/locations/{location}/processors/{processor_id}/processorVersions/{processor_version_id}` |
| `layout_parser.max_parsing_requests_per_min` | `string`<br>작업이 Document AI 프로세서에 보낼 수 있는 분당 최대 요청 수입니다.<br>https://cloud.google.com/document-ai/quotas 및 프로젝트의 할당량 페이지를 참고하여 여기에 적절한 값을 설정하세요. 지정하지 않으면 기본값인 120 QPM이 사용됩니다. |
| `llm_parser` | `oneof``parser`: `RagFileParsingConfig.LlmParser`<br>`RagFile`에 사용할 LLM 파서입니다. |
| `llm_parser.model_name` | `string`<br>LLM 모델의 리소스 이름입니다.<br>형식:<br> <br>`projects/{project_id}/locations/{location}/publishers/{publisher}/models/{model}` |
| `llm_parser.max_parsing_requests_per_min` | `string`<br>작업이 LLM 모델에 보낼 수 있는 분당 최대 요청 수입니다.<br>프로젝트에 적합한 값을 설정하려면 [모델 할당량 섹션](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/quotas?hl=ko#quota_system_by_model) 과 프로젝트의 할당량 페이지를 참고하세요. 지정하지 않으면 기본값인 5,000 QPM이 사용됩니다. |

#### RAG 파일 받기

이 표에는 RAG 파일을 가져오는 데 사용되는 파라미터가 나와 있습니다.

| 매개변수 |
| --- |
| `name` | `string`<br>`RagFile` 리소스 이름입니다. 형식: `projects/{project}/locations/{location}/ragCorpora/{rag_file_id}` |

#### RAG 파일 삭제

이 표에는 RAG 파일을 삭제하는 데 사용되는 파라미터가 나와 있습니다.

| 매개변수 |
| --- |
| `name` | `string`<br>`RagFile` 리소스 이름입니다. 형식: `projects/{project}/locations/{location}/ragCorpora/{rag_file_id}` |

### 검색 및 예측 파라미터

이 섹션에는 검색 및 예측 파라미터가 나와 있습니다.

#### 검색 파라미터

이 표에는 `retrieveContexts` API의 파라미터가 나와 있습니다.

| 매개변수 |
| --- |
| `parent` | 필수: `string`<br>`RagContexts`를 검색할 위치의 리소스 이름입니다.<br> <br>사용자에게 프로젝트에서 전화를 걸 수 있는 권한이 있어야 합니다.<br>형식: `projects/{project}/locations/{location}` |
| `vertex_rag_store` | `VertexRagStore`<br>Vertex RagStore의 데이터 소스입니다. |
| `query` | 필수: `RagQuery`<br>단일 RAG 검색 쿼리입니다. |

##### `VertexRagStore`

| `VertexRagStore` |
| --- |
| `rag_resources` | 목록: `RagResource`<br>RAG 소스의 표현입니다. 코퍼스만 지정하거나 `RagFile`를 지정하는 데 사용할 수 있습니다. 하나의 코퍼스 또는 하나의 코퍼스에서 여러 파일만 지원합니다. |
| `rag_resources.rag_corpus` | 선택사항: `string`<br>`RagCorpora` 리소스 이름입니다.<br>형식: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}` |
| `rag_resources.rag_file_ids` | 목록: `string`<br>`RagFile` 리소스 목록입니다.<br>형식: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}/ragFiles/{rag_file}` |

| `RagQuery` |
| --- |
| `text` | `string`<br>관련 컨텍스트를 가져올 텍스트 형식의 쿼리입니다. |
| `rag_retrieval_config` | 선택사항: `RagRetrievalConfig`<br>쿼리의 검색 구성입니다. |

| `RagRetrievalConfig` |
| --- |
| `top_k` | 선택사항: `int32`<br>검색할 컨텍스트 수입니다. |
| `filter.vector_distance_threshold` | `oneof vector_db_threshold`: `double`<br>벡터 거리가 기준점보다 작은 컨텍스트만 반환합니다. |
| `filter.vector_similarity_threshold` | `oneof vector_db_threshold`: `double`<br>벡터 유사성이 기준점보다 큰 컨텍스트만 반환합니다. |
| `ranking.rank_service.model_name` | (선택사항) `string`<br>순위 서비스의 모델 이름입니다.<br>예: `semantic-ranker-512@latest` |
| `ranking.llm_ranker.model_name` | (선택사항) `string`<br>순위 지정에 사용되는 모델 이름입니다.<br>예: `gemini-2.5-flash` |

#### 예측 파라미터

이 표에는 예측 파라미터가 나열됩니다.

| `GenerateContentRequest` |
| --- |
| `tools.retrieval.vertex_rag_store` | `VertexRagStore`<br>Vertex AI RAG 스토어를 기반으로 하는 데이터 소스를 사용하도록 설정합니다. |

자세한 내용은 [VertexRagStore](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#vertex-rag-store) 를 참조하세요.

### 프로젝트 관리 파라미터

이 표에는 프로젝트 수준 파라미터가 나열되어 있습니다.

##### `RagEngineConfig`

| **매개변수** |  |
| --- | --- |
| `RagManagedDbConfig.scaled` | 이 등급은 자동 확장 기능과 함께 프로덕션 규모의 성능을 제공합니다. |
| `RagManagedDbConfig.basic` | 이 등급은 비용 효율적이고 컴퓨팅 등급이 낮습니다. |
| `RagManagedDbConfig.unprovisioned` | 이 등급은 `RagManagedDb` 및 기본 Spanner 인스턴스를 삭제합니다. |

## 코퍼스 관리 예시

이 섹션에서는 API를 사용하여 RAG 코퍼스를 관리하는 방법의 예시를 제공합니다.

### RAG 코퍼스 만들기 예시

이 코드 샘플은 RAG 코퍼스를 만드는 방법을 보여줍니다.

[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)더보기

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **CORPUS\_DISPLAY\_NAME**: RAG 자료의 표시 이름.
- **CORPUS\_DESCRIPTION**: RAG 코퍼스에 대한 설명.

HTTP 메서드 및 URL:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
POST https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora
```

JSON 요청 본문:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
{
  "display_name" : "CORPUS_DISPLAY_NAME",
  "description": "CORPUS_DESCRIPTION",
}
```

요청을 보내려면 다음 옵션 중 하나를 선택합니다.

[curl](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#curl)[Powershell](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#powershell)더보기

request.json 파일에 요청 본문을 저장하고 다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X POST \
    -H "Authorization: Bearer $(gcloud auth print-access-token)" \
    -H "Content-Type: application/json; charset=utf-8" \
    -d @request.json \
    "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora"
```

request.json 파일에 요청 본문을 저장하고 다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
  $cred = gcloud auth print-access-token
  $headers = @{ "Authorization" = "Bearer $cred" }

  Invoke-WebRequest `
      -Method POST `
      -Headers $headers `
      -ContentType: "application/json; charset=utf-8" `
      -InFile request.json `
      -Uri "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora" | Select-Object -Expand Content
```

성공 상태 코드(2xx)를 받아야 합니다.

다음 예에서는 REST API를 사용하여 RAG 코퍼스를 만드는 방법을 보여줍니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
  // CreateRagCorpus
  // Input: LOCATION, PROJECT_ID, CORPUS_DISPLAY_NAME
  // Output: CreateRagCorpusOperationMetadata
  curl -X POST \
  -H "Authorization: Bearer $(gcloud auth print-access-token)" \
  -H "Content-Type: application/json" \
  https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora \
  -d '{
        "display_name" : "CORPUS_DISPLAY_NAME"
    }'
```

Vertex AI SDK for Python을 설치하거나 업데이트하는 방법은 [Vertex AI SDK for Python 설치](https://docs.cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=ko) 를 참조하세요.

자세한 내용은 [Python API 참고 문서](https://docs.cloud.google.com/python/docs/reference/aiplatform/latest?hl=ko) 를 참조하세요.



더 많은 코드 작업을 살펴봅니다.

[GitHub에서 보기](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/rag/create_corpus_example.py)

밝은 코드 테마

어두운 코드 테마

의견 보내기

```

from vertexai import rag
import vertexai

# TODO(developer): Update and un-comment below lines
# PROJECT_ID = "your-project-id"
# display_name = "test_corpus"
# description = "Corpus Description"

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location="us-central1")

# Configure backend_config
backend_config = rag.RagVectorDbConfig(
    rag_embedding_model_config=rag.RagEmbeddingModelConfig(
        vertex_prediction_endpoint=rag.VertexPredictionEndpoint(
            publisher_model="publishers/google/models/text-embedding-005"
        )
    )
)

corpus = rag.create_corpus(
    display_name=display_name,
    description=description,
    backend_config=backend_config,
)
print(corpus)
# Example response:
# RagCorpus(name='projects/1234567890/locations/us-central1/ragCorpora/1234567890',
# display_name='test_corpus', description='Corpus Description', embedding_model_config=...
# ...
```

### RAG 코퍼스 업데이트 예시

새 표시 이름, 설명, 벡터 데이터베이스 구성으로 RAG 코퍼스를 업데이트할 수 있습니다. 하지만 RAG 코퍼스에서는 다음 [파라미터](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#update-a-rag-corpus-params-api) 를 변경할 수 없습니다.

- 벡터 데이터베이스 유형. 예를 들어 벡터 데이터베이스를 Weaviate에서 Vertex AI Feature Store로 변경할 수는 없습니다.
- 관리형 데이터베이스 옵션을 사용하는 경우 벡터 데이터베이스 구성을 업데이트할 수 없습니다.

이 예시에서는 RAG 코퍼스를 업데이트하는 방법을 보여줍니다.

[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)더보기

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **CORPUS\_ID**: RAG 자료의 자료 ID.
- **CORPUS\_DISPLAY\_NAME**: RAG 자료의 표시 이름.
- **CORPUS\_DESCRIPTION**: RAG 코퍼스에 대한 설명.
- **INDEX\_NAME**: 벡터 검색 색인의 리소스 이름. 형식:
`projects/{project}/locations/{location}/indexes/{index}`.
- **INDEX\_ENDPOINT\_NAME**: 벡터 검색 색인 엔드포인트의 리소스 이름입니다. 형식:
`projects/{project}/locations/{location}/indexEndpoints/{index_endpoint}`.

HTTP 메서드 및 URL:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
PATCH https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/CORPUS_ID
```

JSON 요청 본문:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
{
  "display_name" : "CORPUS_DISPLAY_NAME",
  "description": "CORPUS_DESCRIPTION",
  "vector_db_config": {
    "vertex_vector_search": {
        "index": "INDEX_NAME",
        "index_endpoint": "INDEX_ENDPOINT_NAME",
    }
  }
}
```

요청을 보내려면 다음 옵션 중 하나를 선택합니다.

[curl](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#curl)[Powershell](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#powershell)더보기

request.json 파일에 요청 본문을 저장하고 다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X PATCH \
    -H "Authorization: Bearer $(gcloud auth print-access-token)" \
    -H "Content-Type: application/json; charset=utf-8" \
    -d @request.json \
    "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/CORPUS_ID"
```

request.json 파일에 요청 본문을 저장하고 다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
$cred = gcloud auth print-access-token
$headers = @{ "Authorization" = "Bearer $cred" }

Invoke-WebRequest `
    -Method PATCH `
    -Headers $headers `
    -ContentType: "application/json; charset=utf-8" `
    -InFile request.json `
    -Uri "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/CORPUS_ID" | Select-Object -Expand Content
```

성공 상태 코드(2xx)를 받아야 합니다.

### RAG 코퍼스 나열 예시

이 코드 샘플은 모든 RAG 코퍼스를 나열하는 방법을 보여줍니다.

[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)더보기

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **PAGE\_SIZE**: 표준 목록 페이지 크기. `page_size` 매개변수를 업데이트하여 페이지당 반환할 RAG 코퍼스의 수를 조정할 수 있습니다.
- **PAGE\_TOKEN**: 표준 목록 페이지 토큰. 일반적으로 이전 `VertexRagDataService.ListRagCorpora` 호출의 `ListRagCorporaResponse.next_page_token`을 사용하여 가져옵니다.

HTTP 메서드 및 URL:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
GET https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora?page_size=PAGE_SIZE&page_token=PAGE_TOKEN
```

요청을 보내려면 다음 옵션 중 하나를 선택합니다.

[curl](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#curl)[Powershell](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#powershell)더보기

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X GET \
    -H "Authorization: Bearer $(gcloud auth print-access-token)" \
    "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora?page_size=PAGE_SIZE&page_token=PAGE_TOKEN"
```

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
$cred = gcloud auth print-access-token
$headers = @{ "Authorization" = "Bearer $cred" }

Invoke-WebRequest `
    -Method GET `
    -Headers $headers `
    -Uri "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora?page_size=PAGE_SIZE&page_token=PAGE_TOKEN" | Select-Object -Expand Content
```

주어진 `PROJECT_ID` 아래의 성공적인 상태 코드(`2xx`)와 RAG 코퍼스 목록을 받아야 합니다.

Vertex AI SDK for Python을 설치하거나 업데이트하는 방법은 [Vertex AI SDK for Python 설치](https://docs.cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=ko) 를 참조하세요.

자세한 내용은 [Python API 참고 문서](https://docs.cloud.google.com/python/docs/reference/aiplatform/latest?hl=ko) 를 참조하세요.



더 많은 코드 작업을 살펴봅니다.

[GitHub에서 보기](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/rag/list_corpora_example.py)

밝은 코드 테마

어두운 코드 테마

의견 보내기

```

from vertexai import rag
import vertexai

# TODO(developer): Update and un-comment below lines
# PROJECT_ID = "your-project-id"

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location="us-central1")

corpora = rag.list_corpora()
print(corpora)
# Example response:
# ListRagCorporaPager<rag_corpora {
#   name: "projects/[PROJECT_ID]/locations/us-central1/ragCorpora/2305843009213693952"
#   display_name: "test_corpus"
#   create_time {
# ...
```

### RAG 코퍼스 가져오기 예시

이 코드 샘플은 RAG 코퍼스를 가져오는 방법을 보여줍니다.

[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)더보기

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **RAG\_CORPUS\_ID**: RAG 쿠퍼스 리소스의 ID.

HTTP 메서드 및 URL:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
GET https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID
```

요청을 보내려면 다음 옵션 중 하나를 선택합니다.

[curl](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#curl)[Powershell](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#powershell)더보기

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X GET \
    -H "Authorization: Bearer $(gcloud auth print-access-token)" \
    "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID"
```

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
$cred = gcloud auth print-access-token
$headers = @{ "Authorization" = "Bearer $cred" }

Invoke-WebRequest `
    -Method GET `
    -Headers $headers `
    -Uri "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID" | Select-Object -Expand Content
```

응답에 성공하면 `RagCorpus` 리소스가 반환됩니다.

`get` 및 `list` 명령어는 `RagCorpus`가 사용자가 선택한 임베딩 모델을 가리키는 `vector_db_config` 내에서 `rag_embedding_model_config` 필드를 사용하는 방법을 보여주는 예시에서 사용됩니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

````
    PROJECT_ID: Your project ID.
    LOCATION: The region to process the request.
    RAG_CORPUS_ID: The corpus ID of your RAG corpus.
  ```

```sh
// GetRagCorpus
// Input: LOCATION, PROJECT_ID, RAG_CORPUS_ID
// Output: RagCorpus
curl -X GET \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $(gcloud auth print-access-token)" \
https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID

// ListRagCorpora
curl -sS -X GET \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $(gcloud auth print-access-token)" \
https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/
```
````

Vertex AI SDK for Python을 설치하거나 업데이트하는 방법은 [Vertex AI SDK for Python 설치](https://docs.cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=ko) 를 참조하세요.

자세한 내용은 [Python API 참고 문서](https://docs.cloud.google.com/python/docs/reference/aiplatform/latest?hl=ko) 를 참조하세요.



더 많은 코드 작업을 살펴봅니다.

[GitHub에서 보기](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/rag/get_corpus_example.py)

밝은 코드 테마

어두운 코드 테마

의견 보내기

```

from vertexai import rag
import vertexai

# TODO(developer): Update and un-comment below lines
# PROJECT_ID = "your-project-id"
# corpus_name = "projects/{PROJECT_ID}/locations/us-central1/ragCorpora/{rag_corpus_id}"

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location="us-central1")

corpus = rag.get_corpus(name=corpus_name)
print(corpus)
# Example response:
# RagCorpus(name='projects/[PROJECT_ID]/locations/us-central1/ragCorpora/1234567890',
# display_name='test_corpus', description='Corpus Description',
# ...
```

### RAG 코퍼스 삭제 예시

이 코드 샘플은 RAG 코퍼스를 삭제하는 방법을 보여줍니다.

[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)더보기

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **RAG\_CORPUS\_ID**: `RagCorpus` 리소스의 ID.

HTTP 메서드 및 URL:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
DELETE https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID
```

요청을 보내려면 다음 옵션 중 하나를 선택합니다.

[curl](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#curl)[Powershell](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#powershell)더보기

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X DELETE \
    -H "Authorization: Bearer $(gcloud auth print-access-token)" \
    "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID"
```

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
$cred = gcloud auth print-access-token
$headers = @{ "Authorization" = "Bearer $cred" }

Invoke-WebRequest `
    -Method DELETE `
    -Headers $headers `
    -Uri "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID" | Select-Object -Expand Content
```

응답에 성공하면 `DeleteOperationMetadata`가 반환됩니다.

Vertex AI SDK for Python을 설치하거나 업데이트하는 방법은 [Vertex AI SDK for Python 설치](https://docs.cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=ko) 를 참조하세요.

자세한 내용은 [Python API 참고 문서](https://docs.cloud.google.com/python/docs/reference/aiplatform/latest?hl=ko) 를 참조하세요.



더 많은 코드 작업을 살펴봅니다.

[GitHub에서 보기](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/rag/delete_corpus_example.py)

밝은 코드 테마

어두운 코드 테마

의견 보내기

```

from vertexai import rag
import vertexai

# TODO(developer): Update and un-comment below lines
# PROJECT_ID = "your-project-id"
# corpus_name = "projects/{PROJECT_ID}/locations/us-central1/ragCorpora/{rag_corpus_id}"

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location="us-central1")

rag.delete_corpus(name=corpus_name)
print(f"Corpus {corpus_name} deleted.")
# Example response:
# Successfully deleted the RagCorpus.
# Corpus projects/[PROJECT_ID]/locations/us-central1/ragCorpora/123456789012345 deleted.
```

## 파일 관리 예시

이 섹션에서는 API를 사용하여 RAG 파일을 관리하는 방법의 예시를 제공합니다.

### RAG 파일 업로드 예시

이 코드 샘플은 RAG 파일을 업로드하는 방법을 보여줍니다.

[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)더보기

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **RAG\_CORPUS\_ID**: RAG 코퍼스의 코퍼스 ID.
- **LOCAL\_FILE\_PATH**: 업로드할 파일의 로컬 경로.
- **DISPLAY\_NAME**: RAG 파일의 표시 이름.
- **DESCRIPTION**: RAG 파일에 대한 설명.

요청을 보내려면 다음 명령어를 사용합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X POST \
-H "X-Goog-Upload-Protocol: multipart" \
-H "Authorization: Bearer $(gcloud auth print-access-token)" \
-F metadata="{'rag_file': {'display_name':' DISPLAY_NAME', 'description':'DESCRIPTION'}}" \
-F file=@LOCAL_FILE_PATH \
"https://LOCATION-aiplatform.googleapis.com/upload/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles:upload"
```

Vertex AI SDK for Python을 설치하거나 업데이트하는 방법은 [Vertex AI SDK for Python 설치](https://docs.cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=ko) 를 참조하세요.

자세한 내용은 [Python API 참고 문서](https://docs.cloud.google.com/python/docs/reference/aiplatform/latest?hl=ko) 를 참조하세요.



더 많은 코드 작업을 살펴봅니다.

[GitHub에서 보기](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/rag/upload_file_example.py)

밝은 코드 테마

어두운 코드 테마

의견 보내기

```

from vertexai import rag
import vertexai

# TODO(developer): Update and un-comment below lines
# PROJECT_ID = "your-project-id"
# corpus_name = "projects/{PROJECT_ID}/locations/us-central1/ragCorpora/{rag_corpus_id}"
# path = "path/to/local/file.txt"
# display_name = "file_display_name"
# description = "file description"

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location="us-central1")

rag_file = rag.upload_file(
    corpus_name=corpus_name,
    path=path,
    display_name=display_name,
    description=description,
)
print(rag_file)
# RagFile(name='projects/[PROJECT_ID]/locations/us-central1/ragCorpora/1234567890/ragFiles/09876543',
#  display_name='file_display_name', description='file description')
```

### RAG 파일 가져오기 예시

Drive 또는 Cloud Storage에서 파일과 폴더를 가져올 수 있습니다. `response.metadata`를 사용하여 SDK의 `response` 객체에서 부분 실패, 요청 시간, 응답 시간을 확인할 수 있습니다.

`response.skipped_rag_files_count`는 가져오기 중에 건너뛴 파일 수를 나타냅니다. 다음 조건이 충족되면 파일이 건너뜁니다.

1. 파일을 이미 가져왔습니다.
2. 파일이 변경되지 않았습니다.
3. 파일의 청킹 구성이 변경되지 않았습니다.

[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)더보기

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
from vertexai import rag
import vertexai

# TODO(developer): Update and un-comment below lines
# PROJECT_ID = "your-project-id"
# corpus_name = "projects/{PROJECT_ID}/locations/us-central1/ragCorpora/{rag_corpus_id}"
# paths = ["https://drive.google.com/file/123", "gs://my_bucket/my_files_dir"]  # Supports Cloud Storage and Google Drive Links

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location="us-central1")

response = rag.import_files(
    corpus_name=corpus_name,
    paths=paths,
    transformation_config=rag.TransformationConfig(
        rag.ChunkingConfig(chunk_size=1024, chunk_overlap=256)
    ),
    import_result_sink="gs://sample-existing-folder/sample_import_result_unique.ndjson",  # Optional: This must be an existing Cloud Storage bucket folder, and the filename must be unique (non-existent).
    llm_parser=rag.LlmParserConfig(
      model_name="gemini-2.5-pro-preview-05-06",
      max_parsing_requests_per_min=100,
    ),  # Optional
    max_embedding_requests_per_min=900,  # Optional
)
print(f"Imported {response.imported_rag_files_count} files.")
```

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **RAG\_CORPUS\_ID**: RAG 코퍼스의 코퍼스 ID.
- **FOLDER\_RESOURCE\_ID**: Drive 폴더의 리소스 ID.
- **GCS\_URIS**: Cloud Storage 위치 목록.
  예를 들면 `gs://my-bucket1`입니다.
- **CHUNK\_SIZE**: 각 청크에 있어야 하는 토큰 수 입니다.
- **CHUNK\_OVERLAP**: 청크 간에 겹치는 토큰 수입니다.
- **EMBEDDING\_MODEL\_QPM\_RATE**: RAG의 임베딩 모델 액세스를 제한하는 QPM 비율입니다. 예시: 1,000.

HTTP 메서드 및 URL:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
POST https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles:import
```

JSON 요청 본문:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
{
"import_rag_files_config": {
    "gcs_source": {
      "uris": "GCS_URIS"
    },
    "rag_file_chunking_config": {
      "chunk_size": "CHUNK_SIZE",
      "chunk_overlap": "CHUNK_OVERLAP"
    }
}
}
```

요청을 보내려면 다음 옵션 중 하나를 선택합니다.

[curl](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#curl)[Powershell](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#powershell)더보기

request.json 파일에 요청 본문을 저장하고 다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X POST \
    -H "Authorization: Bearer $(gcloud auth print-access-token)" \
    -H "Content-Type: application/json; charset=utf-8" \
    -d @request.json \
    "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles:import"
```

request.json 파일에 요청 본문을 저장하고 다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
$cred = gcloud auth print-access-token
$headers = @{ "Authorization" = "Bearer $cred" }

Invoke-WebRequest `
    -Method POST `
    -Headers $headers `
    -ContentType: "application/json; charset=utf-8" `
    -InFile request.json `
    -Uri "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles:import" | Select-Object -Expand Content
```

응답에 성공하면 `ImportRagFilesOperationMetadata` 리소스가 반환됩니다.

다음 샘플은 Cloud Storage에서 파일을 가져오는 방법을 보여줍니다. `max_embedding_requests_per_min` 제어 필드를 사용하여 RAG Engine이 `ImportRagFiles` 색인 생성 프로세스 중에 임베딩 모델을 호출하는 속도를 제한합니다. 이 필드의 기본값은 분당 `1000` 호출입니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **RAG\_CORPUS\_ID**: RAG 코퍼스의 코퍼스 ID.
- **GCS\_URIS**: Cloud Storage 위치 목록.
  예를 들면 `gs://my-bucket1`입니다.
- **CHUNK\_SIZE**: 각 청크에 있어야 하는 토큰 수 입니다.
- **CHUNK\_OVERLAP**: 청크 간에 겹치는 토큰 수입니다.
- **EMBEDDING\_MODEL\_QPM\_RATE**: RAG의 임베딩 모델에 대한 액세스를 제한하는 QPM 비율입니다. 예시: 1,000.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
// ImportRagFiles
// Import a single Cloud Storage file or all files in a Cloud Storage bucket.
// Input: LOCATION, PROJECT_ID, RAG_CORPUS_ID, GCS_URIS
// Output: ImportRagFilesOperationMetadataNumber
// Use ListRagFiles to find the server-generated rag_file_id.
curl -X POST \
-H "Authorization: Bearer $(gcloud auth print-access-token)" \
-H "Content-Type: application/json" \
https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles:import \
-d '{
"import_rag_files_config": {
    "gcs_source": {
      "uris": "GCS_URIS"
    },
    "rag_file_chunking_config": {
      "chunk_size": CHUNK_SIZE,
      "chunk_overlap": CHUNK_OVERLAP
    },
    "max_embedding_requests_per_min": EMBEDDING_MODEL_QPM_RATE
}
}'
```

다음 샘플은 Drive에서 파일을 가져오는 방법을 보여줍니다. `max_embedding_requests_per_min` 제어 필드를 사용하여 RAG Engine이 `ImportRagFiles` 색인 생성 프로세스 중에 임베딩 모델을 호출하는 속도를 제한합니다. 이 필드의 기본값은 분당 `1000` 호출입니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **RAG\_CORPUS\_ID**: RAG 코퍼스의 코퍼스 ID.
- **FOLDER\_RESOURCE\_ID**: Drive 폴더의 리소스 ID.
- **CHUNK\_SIZE**: 각 청크에 있어야 하는 토큰 수 입니다.
- **CHUNK\_OVERLAP**: 청크 간에 겹치는 토큰 수입니다.
- **EMBEDDING\_MODEL\_QPM\_RATE**: RAG의 임베딩 모델 액세스를 제한하는 QPM 비율입니다. 예시: 1,000.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
// ImportRagFiles
// Import all files in a Google Drive folder.
// Input: LOCATION, PROJECT_ID, RAG_CORPUS_ID, FOLDER_RESOURCE_ID
// Output: ImportRagFilesOperationMetadataNumber
// Use ListRagFiles to find the server-generated rag_file_id.
curl -X POST \
-H "Authorization: Bearer $(gcloud auth print-access-token)" \
-H "Content-Type: application/json" \
https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles:import \
-d '{
"import_rag_files_config": {
    "google_drive_source": {
      "resource_ids": {
        "resource_id": "FOLDER_RESOURCE_ID",
        "resource_type": "RESOURCE_TYPE_FOLDER"
      }
    },
    "max_embedding_requests_per_min": EMBEDDING_MODEL_QPM_RATE
}
}'
```

### RAG 파일 나열 예시

이 코드 샘플은 RAG 파일을 나열하는 방법을 보여줍니다.

[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)더보기

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **RAG\_CORPUS\_ID**: `RagCorpus` 리소스의 ID.
- **PAGE\_SIZE**: 표준 목록 페이지 크기. page\_size 매개변수를 업데이트하여 페이지당 반환할 `RagFiles` 수를 조정할 수 있습니다.
- **PAGE\_TOKEN**: 표준 목록 페이지 토큰. 이전 `VertexRagDataService.ListRagFiles` 호출의 `ListRagFilesResponse.next_page_token`을 사용하여 가져옵니다.

HTTP 메서드 및 URL:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
GET https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles?page_size=PAGE_SIZE&page_token=PAGE_TOKEN
```

요청을 보내려면 다음 옵션 중 하나를 선택합니다.

[curl](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#curl)[Powershell](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#powershell)더보기

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X GET \
    -H "Authorization: Bearer $(gcloud auth print-access-token)" \
    "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles?page_size=PAGE_SIZE&page_token=PAGE_TOKEN"
```

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
$cred = gcloud auth print-access-token
$headers = @{ "Authorization" = "Bearer $cred" }

Invoke-WebRequest `
    -Method GET `
    -Headers $headers `
    -Uri "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles?page_size=PAGE_SIZE&page_token=PAGE_TOKEN" | Select-Object -Expand Content
```

해당 `RAG_CORPUS_ID` 아래의 `RagFiles` 목록과 함께 성공적인 상태 코드(2xx)를 받아야 합니다.

Vertex AI SDK for Python을 설치하거나 업데이트하는 방법은 [Vertex AI SDK for Python 설치](https://docs.cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=ko) 를 참조하세요.

자세한 내용은 [Python API 참고 문서](https://docs.cloud.google.com/python/docs/reference/aiplatform/latest?hl=ko) 를 참조하세요.



더 많은 코드 작업을 살펴봅니다.

[GitHub에서 보기](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/rag/list_files_example.py)

밝은 코드 테마

어두운 코드 테마

의견 보내기

```

from vertexai import rag
import vertexai

# TODO(developer): Update and un-comment below lines
# PROJECT_ID = "your-project-id"
# corpus_name = "projects/{PROJECT_ID}/locations/us-central1/ragCorpora/{rag_corpus_id}"

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location="us-central1")

files = rag.list_files(corpus_name=corpus_name)
for file in files:
    print(file.display_name)
    print(file.name)
# Example response:
# g-drive_file.txt
# projects/1234567890/locations/us-central1/ragCorpora/111111111111/ragFiles/222222222222
# g_cloud_file.txt
# projects/1234567890/locations/us-central1/ragCorpora/111111111111/ragFiles/333333333333
```

### RAG 파일 가져오기 예시

이 코드 샘플은 RAG 파일을 가져오는 방법을 보여줍니다.

[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)더보기

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **RAG\_CORPUS\_ID**: `RagCorpus` 리소스의 ID.
- **RAG\_FILE\_ID**: `RagFile` 리소스의 ID.

HTTP 메서드 및 URL:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
GET https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles/RAG_FILE_ID
```

요청을 보내려면 다음 옵션 중 하나를 선택합니다.

[curl](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#curl)[Powershell](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#powershell)더보기

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X GET \
    -H "Authorization: Bearer $(gcloud auth print-access-token)" \
    "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles/RAG_FILE_ID"
```

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
$cred = gcloud auth print-access-token
$headers = @{ "Authorization" = "Bearer $cred" }

Invoke-WebRequest `
    -Method GET `
    -Headers $headers `
    -Uri "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles/RAG_FILE_ID" | Select-Object -Expand Content
```

응답에 성공하면 `RagFile` 리소스가 반환됩니다.

Vertex AI SDK for Python을 설치하거나 업데이트하는 방법은 [Vertex AI SDK for Python 설치](https://docs.cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=ko) 를 참조하세요.

자세한 내용은 [Python API 참고 문서](https://docs.cloud.google.com/python/docs/reference/aiplatform/latest?hl=ko) 를 참조하세요.



더 많은 코드 작업을 살펴봅니다.

[GitHub에서 보기](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/rag/get_file_example.py)

밝은 코드 테마

어두운 코드 테마

의견 보내기

```

from vertexai import rag
import vertexai

# TODO(developer): Update and un-comment below lines
# PROJECT_ID = "your-project-id"
# file_name = "projects/{PROJECT_ID}/locations/us-central1/ragCorpora/{rag_corpus_id}/ragFiles/{rag_file_id}"

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location="us-central1")

rag_file = rag.get_file(name=file_name)
print(rag_file)
# Example response:
# RagFile(name='projects/1234567890/locations/us-central1/ragCorpora/11111111111/ragFiles/22222222222',
# display_name='file_display_name', description='file description')
```

### RAG 파일 삭제 예시

이 코드 샘플은 RAG 파일을 삭제하는 방법을 보여줍니다.

[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)더보기

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID** >: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **RAG\_CORPUS\_ID**: RagCorpus 리소스의 ID.
- **RAG\_FILE\_ID**: RagFile 리소스의 ID. 형식:
  `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}/ragFiles/{rag_file_id}`.

HTTP 메서드 및 URL:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
DELETE https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles/RAG_FILE_ID
```

요청을 보내려면 다음 옵션 중 하나를 선택합니다.

[curl](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#curl)[Powershell](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#powershell)더보기

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X DELETE \
    -H "Authorization: Bearer $(gcloud auth print-access-token)" \
    "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles/RAG_FILE_ID"
```

다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
$cred = gcloud auth print-access-token
$headers = @{ "Authorization" = "Bearer $cred" }

Invoke-WebRequest `
    -Method DELETE `
    -Headers $headers `
    -Uri "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/ragCorpora/RAG_CORPUS_ID/ragFiles/RAG_FILE_ID" | Select-Object -Expand Content
```

Vertex AI SDK for Python을 설치하거나 업데이트하는 방법은 [Vertex AI SDK for Python 설치](https://docs.cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=ko) 를 참조하세요.

자세한 내용은 [Python API 참고 문서](https://docs.cloud.google.com/python/docs/reference/aiplatform/latest?hl=ko) 를 참조하세요.



더 많은 코드 작업을 살펴봅니다.

[GitHub에서 보기](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/rag/delete_file_example.py)

밝은 코드 테마

어두운 코드 테마

의견 보내기

```

from vertexai import rag
import vertexai

# TODO(developer): Update and un-comment below lines
# PROJECT_ID = "your-project-id"
# file_name = "projects/{PROJECT_ID}/locations/us-central1/ragCorpora/{rag_corpus_id}/ragFiles/{rag_file_id}"

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location="us-central1")

rag.delete_file(name=file_name)
print(f"File {file_name} deleted.")
# Example response:
# Successfully deleted the RagFile.
# File projects/1234567890/locations/us-central1/ragCorpora/1111111111/ragFiles/2222222222 deleted.
```

### 검색 쿼리 예시

사용자가 질문하거나 프롬프트를 제공하면 RAG의 검색 구성요소는 기술 자료를 통해 쿼리와 관련된 정보를 찾습니다.

[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)더보기

Vertex AI SDK for Python을 설치하거나 업데이트하는 방법은 [Vertex AI SDK for Python 설치](https://docs.cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=ko) 를 참조하세요.

자세한 내용은 [Python API 참고 문서](https://docs.cloud.google.com/python/docs/reference/aiplatform/latest?hl=ko) 를 참조하세요.



더 많은 코드 작업을 살펴봅니다.

[GitHub에서 보기](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/rag/retrieval_query_example.py)

밝은 코드 테마

어두운 코드 테마

의견 보내기

```

from vertexai import rag
import vertexai

# TODO(developer): Update and un-comment below lines
# PROJECT_ID = "your-project-id"
# corpus_name = "projects/[PROJECT_ID]/locations/us-central1/ragCorpora/[rag_corpus_id]"

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location="us-central1")

response = rag.retrieval_query(
    rag_resources=[\
        rag.RagResource(\
            rag_corpus=corpus_name,\
            # Optional: supply IDs from `rag.list_files()`.\
            # rag_file_ids=["rag-file-1", "rag-file-2", ...],\
        )\
    ],
    text="Hello World!",
    rag_retrieval_config=rag.RagRetrievalConfig(
        top_k=10,
        filter=rag.utils.resources.Filter(vector_distance_threshold=0.5),
    ),
)
print(response)
# Example response:
# contexts {
#   contexts {
#     source_uri: "gs://your-bucket-name/file.txt"
#     text: "....
#   ....
```

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **RAG\_CORPUS\_RESOURCE**: `RagCorpus` 리소스의 이름.

  형식은 `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`입니다.
- **VECTOR\_DISTANCE\_THRESHOLD**: 벡터 거리가 기준점보다 작은 컨텍스트만 반환됩니다.
- **TEXT**: 관련 컨텍스트를 가져올 쿼리 텍스트입니다.
- **SIMILARITY\_TOP\_K**: 검색할 상위 컨텍스트 수입니다.

HTTP 메서드 및 URL:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
POST https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION:retrieveContexts
```

JSON 요청 본문:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
{
"vertex_rag_store": {
    "rag_resources": {
      "rag_corpus": "RAG_CORPUS_RESOURCE"
    },
    "vector_distance_threshold": VECTOR_DISTANCE_THRESHOLD
},
"query": {
"text": TEXT
"similarity_top_k": SIMILARITY_TOP_K
}
}
```

[curl](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#curl)[Powershell](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#powershell)더보기

request.json 파일에 요청 본문을 저장하고 다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X POST \
    -H "Authorization: Bearer $(gcloud auth print-access-token)" \
    -H "Content-Type: application/json; charset=utf-8" \
    -d @request.json \
    "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION:retrieveContexts"
```

request.json 파일에 요청 본문을 저장하고 다음 명령어를 실행합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
$cred = gcloud auth print-access-token
$headers = @{ "Authorization" = "Bearer $cred" }

Invoke-WebRequest `
    -Method POST `
    -Headers $headers `
    -ContentType: "application/json; charset=utf-8" `
    -InFile request.json `
    -Uri "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION:retrieveContexts" | Select-Object -Expand Content
```

성공 상태 코드(2xx) 및 관련 `RagFiles` 목록을 받아야 합니다.

### 생성 예시

LLM은 검색된 컨텍스트를 사용하여 그라운딩된 응답을 생성합니다.

[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)더보기

요청 데이터를 사용하기 전에 다음을 바꿉니다.

- **PROJECT\_ID**: 프로젝트 ID.
- **LOCATION**: 요청을 처리하는 리전.
- **MODEL\_ID**: 콘텐츠 생성을 위한 LLM 모델입니다. 예를 들면 `gemini-2.5-flash`입니다.
- **GENERATION\_METHOD**: 콘텐츠 생성을 위한 LLM 메서드입니다.
  선택사항: `generateContent`, `streamGenerateContent`.
- **INPUT\_PROMPT**: 콘텐츠 생성을 위해 LLM에 전송된 텍스트입니다. 업로드된 래그 파일과 관련된 프롬프트를 사용해 보세요.
- **RAG\_CORPUS\_RESOURCE**: `RagCorpus` 리소스의 이름.

  형식은 `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`입니다.
- **SIMILARITY\_TOP\_K**: 선택사항: 검색할 인기 컨텍스트 수입니다.
- **VECTOR\_DISTANCE\_THRESHOLD**: 선택사항: 벡터 거리가 기준점보다 작은 컨텍스트가 반환됩니다.
- **USER**: 사용자 이름.

HTTP 메서드 및 URL:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
POST https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/MODEL_ID:GENERATION_METHOD
```

JSON 요청 본문:

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
{
"contents": {
"role": "USER",
"parts": {
    "text": "INPUT_PROMPT"
}
},
"tools": {
"retrieval": {
"disable_attribution": false,
"vertex_rag_store": {
    "rag_resources": {
      "rag_corpus": "RAG_CORPUS_RESOURCE"
    },
    "similarity_top_k": "SIMILARITY_TOP_K",
    "vector_distance_threshold": VECTOR_DISTANCE_THRESHOLD
}
}
}
}
```

요청을 보내려면 다음 옵션 중 하나를 선택합니다.

[curl](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#curl)[Powershell](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#powershell)더보기

request.json 파일에 요청 본문을 저장하고 다음 명령어를 실행합니다.


더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X POST \
    -H "Authorization: Bearer $(gcloud auth print-access-token)" \
    -H "Content-Type: application/json; charset=utf-8" \
    -d @request.json \
    "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/MODEL_ID:GENERATION_METHOD"
```

request.json 파일에 요청 본문을 저장하고 다음 명령어를 실행합니다.


더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
$cred = gcloud auth print-access-token
$headers = @{ "Authorization" = "Bearer $cred" }

Invoke-WebRequest `
    -Method POST `
    -Headers $headers `
    -ContentType: "application/json; charset=utf-8" `
    -InFile request.json `
    -Uri "https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/publishers/google/models/MODEL_ID:GENERATION_METHOD" | Select-Object -Expand Content
```

응답에 성공하면 인용과 함께 생성된 콘텐츠가 반환됩니다.

Vertex AI SDK for Python을 설치하거나 업데이트하는 방법은 [Vertex AI SDK for Python 설치](https://docs.cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=ko) 를 참조하세요.

자세한 내용은 [Python API 참고 문서](https://docs.cloud.google.com/python/docs/reference/aiplatform/latest?hl=ko) 를 참조하세요.



더 많은 코드 작업을 살펴봅니다.

[GitHub에서 보기](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/rag/generate_content_example.py)

밝은 코드 테마

어두운 코드 테마

의견 보내기

```

from vertexai import rag
from vertexai.generative_models import GenerativeModel, Tool
import vertexai

# TODO(developer): Update and un-comment below lines
# PROJECT_ID = "your-project-id"
# corpus_name = "projects/{PROJECT_ID}/locations/us-central1/ragCorpora/{rag_corpus_id}"

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location="us-central1")

rag_retrieval_tool = Tool.from_retrieval(
    retrieval=rag.Retrieval(
        source=rag.VertexRagStore(
            rag_resources=[\
                rag.RagResource(\
                    rag_corpus=corpus_name,\
                    # Optional: supply IDs from `rag.list_files()`.\
                    # rag_file_ids=["rag-file-1", "rag-file-2", ...],\
                )\
            ],
            rag_retrieval_config=rag.RagRetrievalConfig(
                top_k=10,
                filter=rag.utils.resources.Filter(vector_distance_threshold=0.5),
            ),
        ),
    )
)

rag_model = GenerativeModel(
    model_name="gemini-2.0-flash-001", tools=[rag_retrieval_tool]
)
response = rag_model.generate_content("Why is the sky blue?")
print(response.text)
# Example response:
#   The sky appears blue due to a phenomenon called Rayleigh scattering.
#   Sunlight, which contains all colors of the rainbow, is scattered
#   by the tiny particles in the Earth's atmosphere....
#   ...
```

## 프로젝트 관리 예시

등급은 `RagEngineConfig` 리소스에서 사용할 수 있는 프로젝트 수준 설정이며 `RagManagedDb`를 사용하는 RAG 코퍼스에 영향을 미칩니다. 등급 구성을 가져오려면 `GetRagEngineConfig`를 사용합니다. 등급 구성을 업데이트하려면 `UpdateRagEngineConfig`를 사용합니다.

등급 구성 관리에 대한 자세한 내용은 [등급 관리](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/rag-engine/ragmanageddb-overview?hl=ko#manage_tiers) 를 참조하세요.

### 프로젝트 구성 가져오기

다음 코드 샘플은 `RagEngineConfig`를 읽는 방법을 보여줍니다.

[콘솔](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#%EC%BD%98%EC%86%94)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)더보기

1. Google Cloud 콘솔에서 **RAG Engine** 페이지로 이동합니다.


   [RAG Engine으로 이동](https://console.cloud.google.com/vertex-ai/rag/corpus?hl=ko)

2. RAG Engine이 실행 중인 리전을 선택합니다. RAG 코퍼스 목록이 업데이트됩니다.
3. **RAG 엔진 구성** 을 클릭합니다. **RAG 엔진 구성** 창이 표시됩니다. RAG 엔진에 선택된 등급을 확인할 수 있습니다.
4. **취소** 를 클릭합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
from vertexai import rag
import vertexai

PROJECT_ID = YOUR_PROJECT_ID
LOCATION = YOUR_RAG_ENGINE_LOCATION

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location=LOCATION)

rag_engine_config = rag.rag_data.get_rag_engine_config(
    name=f"projects/{PROJECT_ID}/locations/{LOCATION}/ragEngineConfig"
)

print(rag_engine_config)
```

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X GET \
-H "Content-Type: application/json" \
-H "Authorization: Bearer $(gcloud auth print-access-token)" \
https://${LOCATION}-aiplatform.googleapis.com/v1/projects/${PROJECT_ID}/locations/${LOCATION}/ragEngineConfig
```

### 프로젝트 구성 업데이트

이 섹션에서는 구성을 확장, 기본 또는 프로비저닝되지 않음 등급으로 변경하는 방법을 보여주는 코드 샘플을 제공합니다.

#### `RagEngineConfig`를 확장 등급으로 업데이트

다음 코드 샘플은 `RagEngineConfig`를 확장 등급으로 설정하는 방법을 보여줍니다.

[콘솔](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#%EC%BD%98%EC%86%94)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)더보기

1. Google Cloud 콘솔에서 **RAG Engine** 페이지로 이동합니다.


   [RAG Engine으로 이동](https://console.cloud.google.com/vertex-ai/rag/corpus?hl=ko)

2. RAG Engine이 실행 중인 리전을 선택합니다. RAG 코퍼스 목록이 업데이트됩니다.
3. **RAG 엔진 구성** 을 클릭합니다. **RAG 엔진 구성** 창이 표시됩니다.
4. RAG 엔진을 실행할 등급을 선택합니다.
5. **저장** 을 클릭합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
from vertexai import rag
import vertexai

PROJECT_ID = YOUR_PROJECT_ID
LOCATION = YOUR_RAG_ENGINE_LOCATION

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location=LOCATION)

rag_engine_config_name=f"projects/{PROJECT_ID}/locations/{LOCATION}/ragEngineConfig"

new_rag_engine_config = rag.RagEngineConfig(
name=rag_engine_config_name,
rag_managed_db_config=rag.RagManagedDbConfig(tier=rag.Scaled()),
)

updated_rag_engine_config = rag.rag_data.update_rag_engine_config(
rag_engine_config=new_rag_engine_config
)

print(updated_rag_engine_config)
```

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X PATCH \
-H "Content-Type: application/json" \
-H "Authorization: Bearer $(gcloud auth print-access-token)" \
https://${LOCATION}-aiplatform.googleapis.com/v1/projects/${PROJECT_ID}/locations/${LOCATION}/ragEngineConfig -d "{'ragManagedDbConfig': {'scaled': {}}}"
```

#### `RagEngineConfig`를 기본 등급으로 업데이트

다음 코드 샘플은 `RagEngineConfig`를 기본 등급으로 설정하는 방법을 보여줍니다.

[콘솔](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#%EC%BD%98%EC%86%94)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)더보기

1. Google Cloud 콘솔에서 **RAG Engine** 페이지로 이동합니다.


   [RAG Engine으로 이동](https://console.cloud.google.com/vertex-ai/rag/corpus?hl=ko)

2. RAG Engine이 실행 중인 리전을 선택합니다. RAG 코퍼스 목록이 업데이트됩니다.
3. **RAG 엔진 구성** 을 클릭합니다. **RAG 엔진 구성** 창이 표시됩니다.
4. RAG 엔진을 실행할 등급을 선택합니다.
5. **저장** 을 클릭합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
from vertexai import rag
import vertexai

PROJECT_ID = YOUR_PROJECT_ID
LOCATION = YOUR_RAG_ENGINE_LOCATION

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location=LOCATION)

rag_engine_config_name=f"projects/{PROJECT_ID}/locations/{LOCATION}/ragEngineConfig"

new_rag_engine_config = rag.RagEngineConfig(
name=rag_engine_config_name,
rag_managed_db_config=rag.RagManagedDbConfig(tier=rag.Basic()),
)

updated_rag_engine_config = rag.rag_data.update_rag_engine_config(
rag_engine_config=new_rag_engine_config
)

print(updated_rag_engine_config)
```

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X PATCH \
-H "Content-Type: application/json" \
-H "Authorization: Bearer $(gcloud auth print-access-token)" \
https://${LOCATION}-aiplatform.googleapis.com/v1/projects/${PROJECT_ID}/locations/${LOCATION}/ragEngineConfig -d "{'ragManagedDbConfig': {'basic': {}}}"
```

#### `RagEngineConfig`를 프로비저닝되지 않음 등급으로 업데이트

다음 코드 샘플은 `RagEngineConfig`를 프로비저닝되지 않음 등급으로 설정하는 방법을 보여줍니다.

[콘솔](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#%EC%BD%98%EC%86%94)[Python](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#python)[REST](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/rag-api-v1?hl=ko#rest)더보기

1. Google Cloud 콘솔에서 **RAG Engine** 페이지로 이동합니다.


   [RAG Engine으로 이동](https://console.cloud.google.com/vertex-ai/rag/corpus?hl=ko)

2. RAG Engine이 실행 중인 리전을 선택합니다. RAG 코퍼스 목록이 업데이트됩니다.
3. **RAG 엔진 구성** 을 클릭합니다. **RAG 엔진 구성** 창이 표시됩니다.
4. **RAG 엔진 삭제** 를 클릭합니다. 확인 대화상자가 나타납니다.
5. _delete_ 를 입력하여 RAG 엔진에서 데이터를 삭제할 것임을 확인한 다음 **확인** 을 클릭합니다.
6. **저장** 을 클릭합니다.

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
from vertexai import rag
import vertexai

PROJECT_ID = YOUR_PROJECT_ID
LOCATION = YOUR_RAG_ENGINE_LOCATION

# Initialize Vertex AI API once per session
vertexai.init(project=PROJECT_ID, location=LOCATION)

rag_engine_config_name=f"projects/{PROJECT_ID}/locations/{LOCATION}/ragEngineConfig"

new_rag_engine_config = rag.RagEngineConfig(
name=rag_engine_config_name,
rag_managed_db_config=rag.RagManagedDbConfig(tier=rag.Unprovisioned()),
)

updated_rag_engine_config = rag.rag_data.update_rag_engine_config(
rag_engine_config=new_rag_engine_config
)

print(updated_rag_engine_config)
```

더 많은 코드 작업을 살펴봅니다.

밝은 코드 테마

어두운 코드 테마

```
curl -X PATCH \
-H "Content-Type: application/json" \
-H "Authorization: Bearer $(gcloud auth print-access-token)" \
https://${LOCATION}-aiplatform.googleapis.com/v1/projects/${PROJECT_ID}/locations/${LOCATION}/ragEngineConfig -d "{'ragManagedDbConfig': {'unprovisioned': {}}}"
```

## 다음 단계

- 지원되는 생성 모델에 대해 자세히 알아보려면 [RAG를 지원하는 생성형 AI 모델](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/supported-rag-models?hl=ko) 참고하기
- 지원되는 임베딩 모델에 대한 자세한 내용은 [임베딩 모델](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/use-embedding-models?hl=ko#supported-embedding-models) 참고하기
- 개방형 모델에 대해 자세히 알아보려면 [개방형 모델](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/use-embedding-models?hl=ko#use-oss-embedding-models) 참고하기
- RAG Engine에 대한 자세한 내용은 [RAG Engine 개요](https://docs.cloud.google.com/vertex-ai/generative-ai/docs/rag-overview?hl=ko) 를 참조하세요.

도움이 되었나요?



 의견 보내기



달리 명시되지 않는 한 이 페이지의 콘텐츠에는 [Creative Commons Attribution 4.0 라이선스](https://creativecommons.org/licenses/by/4.0/) 에 따라 라이선스가 부여되며, 코드 샘플에는 [Apache 2.0 라이선스](https://www.apache.org/licenses/LICENSE-2.0) 에 따라 라이선스가 부여됩니다. 자세한 내용은 [Google Developers 사이트 정책](https://developers.google.com/site-policies?hl=ko) 을 참조하세요. 자바는 Oracle 및/또는 Oracle 계열사의 등록 상표입니다.

최종 업데이트: 2025-11-26(UTC)


의견을 전달하고 싶나요?






\[\[\["이해하기 쉬움","easyToUnderstand","thumb-up"\],\["문제가 해결됨","solvedMyProblem","thumb-up"\],\["기타","otherUp","thumb-up"\]\],\[\["이해하기 어려움","hardToUnderstand","thumb-down"\],\["잘못된 정보 또는 샘플 코드","incorrectInformationOrSampleCode","thumb-down"\],\["필요한 정보/샘플이 없음","missingTheInformationSamplesINeed","thumb-down"\],\["번역 문제","translationIssue","thumb-down"\],\["기타","otherDown","thumb-down"\]\],\["최종 업데이트: 2025-11-26(UTC)"\],\[\],\[\]\]